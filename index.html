<div id='wapp2' number='79055262132'></div>
<script>
    let wapp2 = document.getElementById('wapp2');
    wapp2.innerHTML = "<div class='cross'>&times;</div><div class='wapp_logo'></div><div class='wapp_txt'>Нажмите, чтобы задать <b>вопрос в WhatsApp</b></div>";
    let phone2 = wapp2.getAttribute('number');
    let txt = document.querySelector('.wapp_txt');
    let logo = document.querySelector('.wapp_logo');
    let message = 'Добрый день!%20Вопрос?';
    let path2 = 'https://api.whatsapp.com/send?phone=' + phone2 + '&text=' + message;
    let cross = document.querySelector('.cross');
    
    let anhover = setTimeout(function show(){ 
        wapp2.style.bottom = '0';
    },50);
    
    wapp2.addEventListener('click', function call_wapp(event){
        let t = event.target;
        if(!t.classList.contains('cross')){
            let win = window.open(path2, '_blank');
            win.focus();
        }
    })

    cross.addEventListener('click', function hide_wapp(){
        wapp2.style.transition = 'bottom 0.1s, left 0.1s, width 0.1s, border-radius 0.1s, height 0.1s'; // скорость сворачивания плашки
        logo.style.position = 'absolute';
        logo.style.zIndex = '99';
        logo.style.left = '10%';
        cross.remove();
        txt.remove();
        wapp2.style.width = '0px'; //окружность после схлопывания плашки на десктопе
        wapp2.style.height = '0px';
        wapp2.style.justifyContent='center';
        wapp2.style.borderRadius = '1000px';
        wapp2.style.textShadow='0 1px 0 #1f4c76';
        wapp2.style.boxShadow='0 0 0 0 rgba(90, 153, 220, 0.7), inset 0 1px 0 #abcbe9';
        wapp2.style.bottom = '35px';
        wapp2.style.left = '23px';
        logo.style.backgroundImage = 'url(https://s8.hostingkartinok.com/uploads/images/2020/02/46653e7211d5f50a1d36a24c90f378a1.png)';

        let flip = setTimeout(function flipper(){
            logo.style.transformStyle = 'preserve-3d';
            logo.style.animation = 'main-rotate 0.5s 1 linear'; // скорость анимации
        },3000);   

        if(window.matchMedia('(max-width: 1000px)').matches){
            wapp2.style.width = '0px'; //окружность после схлопывания плашки на мобиле
            wapp2.style.height = '0px';
            wapp2.style.bottom = '5px';
            wapp2.style.left = '19px';
        }

        let cssAnimation = document.createElement('style');
        cssAnimation.type = 'text/css';
        let rules = document.createTextNode('@-webkit-keyframes pulse {'+
        'to{box-shadow:0 0 0 15px rgba(90, 153, 220, 0), inset 0 1px 0 #abcbe9}'+
        '}' + '@keyframes main-rotate { 100% { transform: rotateY(720deg); } }');
        cssAnimation.appendChild(rules);
        document.getElementsByTagName("head")[0].appendChild(cssAnimation);
    })

    wapp2.style.position = 'fixed';
    wapp2.style.zIndex = '99';
    wapp2.style.bottom = '-10%';
    wapp2.style.left = '0';
    wapp2.style.width = '320px';  
    wapp2.style.height = '70px';
    wapp2.style.backgroundColor = '#15a259';
    wapp2.style.borderTopRightRadius = '20px';
    wapp2.style.display = 'flex';
    wapp2.style.justifyContent = 'space-around';
    wapp2.style.alignItems = 'center';
    wapp2.style.cursor = 'pointer';
    wapp2.style.transition = 'bottom 1s';

    logo.style.width='50px'; //размер лого на десктоп
    logo.style.height='50px';  
    logo.style.backgroundImage='url(https://s8.hostingkartinok.com/uploads/images/2020/02/8cf1817b5bdad421935faa508ed53261.png)';
    logo.style.backgroundSize='cover';

    txt.style.color = '#fff';
    txt.style.textAlign = 'left';
    txt.style.width = '60%';


    cross.style.background = '#fff';
    cross.style.width = '30px';
    cross.style.height = '30px';
    cross.style.textAlign = 'center';
    cross.style.lineHeight = '30px';
    cross.style.borderRadius = '100%';
    cross.style.border = '1px solid #000';
    cross.style.position = 'absolute';
    cross.style.top = '-44%';
    cross.style.left = '92%';
    cross.style.cursor = 'pointer';

    if(window.matchMedia('(max-width: 1000px)').matches){
        wapp2.style.transition = 'bottom 1s';
        wapp2.style.width = '80%';  
        wapp2.style.height = '10%';
        wapp2.style.minHeight = '70px';
        wapp2.style.borderTopRightRadius = '30px';
        logo.style.width = '50px';//размер лого на мобиле
        logo.style.height = '50px';
        txt.style.fontSize = '1em';
        txt.style.width = '60%';
        cross.style.fontSize = '1em';// крестик на мобиле
        cross.style.top = '-50%';
        cross.style.padding = '7px 10px';
    }
</script>